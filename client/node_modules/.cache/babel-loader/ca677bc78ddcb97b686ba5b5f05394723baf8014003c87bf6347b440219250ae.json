{"ast":null,"code":"import io from'socket.io-client';const SOCKET_URL=process.env.REACT_APP_SOCKET_URL||'http://localhost:5000';let socket=null;const initSocket=()=>{if(!socket){socket=io(SOCKET_URL,{reconnection:true,reconnectionDelay:1000,reconnectionDelayMax:5000,reconnectionAttempts:5});socket.on('connect',()=>{console.log('[DevHire] Socket connected:',socket.id);});socket.on('disconnect',()=>{console.log('[DevHire] Socket disconnected');});socket.on('error',error=>{console.error('[DevHire] Socket error:',error);});}return socket;};const getSocket=()=>{if(!socket){return initSocket();}return socket;};const joinUserRoom=userId=>{const s=getSocket();s.emit('user:join',userId);};const goOnline=developerId=>{const s=getSocket();s.emit('developer:online',developerId);};const goOffline=developerId=>{const s=getSocket();s.emit('developer:offline',developerId);};const notifyBookingRequest=(developerId,bookingId,customerName,duration,rate)=>{const s=getSocket();s.emit('booking:created',{developerId,bookingId,customerName,duration,rate});};const notifyBookingConfirmed=(customerId,developerId,bookingId,channelName)=>{const s=getSocket();s.emit('booking:confirmed',{customerId,developerId,bookingId,channelName});};const notifyCallStarted=(bookingId,channelName,customerId,developerId)=>{const s=getSocket();s.emit('call:started',{bookingId,channelName,customerId,developerId});};const notifyCallEnded=(bookingId,customerId,developerId,duration,stats)=>{const s=getSocket();s.emit('call:ended',{bookingId,customerId,developerId,duration,stats});};const notifyPaymentCompleted=(bookingId,customerId,developerId,amount)=>{const s=getSocket();s.emit('payment:completed',{bookingId,customerId,developerId,amount});};const onBookingRequest=callback=>{const s=getSocket();s.on('notification:booking-request',callback);};const onBookingConfirmed=callback=>{const s=getSocket();s.on('notification:booking-confirmed',callback);};const onCallReady=callback=>{const s=getSocket();s.on('notification:call-ready',callback);};const onCallParticipantJoined=callback=>{const s=getSocket();s.on('call:participant-joined',callback);};const onCallEnded=callback=>{const s=getSocket();s.on('notification:call-ended',callback);};const onDeveloperStatusChanged=callback=>{const s=getSocket();s.on('developer:status-changed',callback);};const onAvailabilityChanged=callback=>{const s=getSocket();s.on('availability:changed',callback);};const offEvent=event=>{const s=getSocket();s.off(event);};export{initSocket,getSocket,joinUserRoom,goOnline,goOffline,notifyBookingRequest,notifyBookingConfirmed,notifyCallStarted,notifyCallEnded,notifyPaymentCompleted,onBookingRequest,onBookingConfirmed,onCallReady,onCallParticipantJoined,onCallEnded,onDeveloperStatusChanged,onAvailabilityChanged,offEvent};","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","initSocket","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","on","console","log","id","error","getSocket","joinUserRoom","userId","s","emit","goOnline","developerId","goOffline","notifyBookingRequest","bookingId","customerName","duration","rate","notifyBookingConfirmed","customerId","channelName","notifyCallStarted","notifyCallEnded","stats","notifyPaymentCompleted","amount","onBookingRequest","callback","onBookingConfirmed","onCallReady","onCallParticipantJoined","onCallEnded","onDeveloperStatusChanged","onAvailabilityChanged","offEvent","event","off"],"sources":["D:/Downloads/developer-hiring-platform/client/src/services/socket.js"],"sourcesContent":["import io from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\n\nlet socket = null;\n\nconst initSocket = () => {\n  if (!socket) {\n    socket = io(SOCKET_URL, {\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5,\n    });\n\n    socket.on('connect', () => {\n      console.log('[DevHire] Socket connected:', socket.id);\n    });\n\n    socket.on('disconnect', () => {\n      console.log('[DevHire] Socket disconnected');\n    });\n\n    socket.on('error', (error) => {\n      console.error('[DevHire] Socket error:', error);\n    });\n  }\n\n  return socket;\n};\n\nconst getSocket = () => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\n\nconst joinUserRoom = (userId) => {\n  const s = getSocket();\n  s.emit('user:join', userId);\n};\n\nconst goOnline = (developerId) => {\n  const s = getSocket();\n  s.emit('developer:online', developerId);\n};\n\nconst goOffline = (developerId) => {\n  const s = getSocket();\n  s.emit('developer:offline', developerId);\n};\n\nconst notifyBookingRequest = (developerId, bookingId, customerName, duration, rate) => {\n  const s = getSocket();\n  s.emit('booking:created', {\n    developerId,\n    bookingId,\n    customerName,\n    duration,\n    rate,\n  });\n};\n\nconst notifyBookingConfirmed = (customerId, developerId, bookingId, channelName) => {\n  const s = getSocket();\n  s.emit('booking:confirmed', {\n    customerId,\n    developerId,\n    bookingId,\n    channelName,\n  });\n};\n\nconst notifyCallStarted = (bookingId, channelName, customerId, developerId) => {\n  const s = getSocket();\n  s.emit('call:started', {\n    bookingId,\n    channelName,\n    customerId,\n    developerId,\n  });\n};\n\nconst notifyCallEnded = (bookingId, customerId, developerId, duration, stats) => {\n  const s = getSocket();\n  s.emit('call:ended', {\n    bookingId,\n    customerId,\n    developerId,\n    duration,\n    stats,\n  });\n};\n\nconst notifyPaymentCompleted = (bookingId, customerId, developerId, amount) => {\n  const s = getSocket();\n  s.emit('payment:completed', {\n    bookingId,\n    customerId,\n    developerId,\n    amount,\n  });\n};\n\nconst onBookingRequest = (callback) => {\n  const s = getSocket();\n  s.on('notification:booking-request', callback);\n};\n\nconst onBookingConfirmed = (callback) => {\n  const s = getSocket();\n  s.on('notification:booking-confirmed', callback);\n};\n\nconst onCallReady = (callback) => {\n  const s = getSocket();\n  s.on('notification:call-ready', callback);\n};\n\nconst onCallParticipantJoined = (callback) => {\n  const s = getSocket();\n  s.on('call:participant-joined', callback);\n};\n\nconst onCallEnded = (callback) => {\n  const s = getSocket();\n  s.on('notification:call-ended', callback);\n};\n\nconst onDeveloperStatusChanged = (callback) => {\n  const s = getSocket();\n  s.on('developer:status-changed', callback);\n};\n\nconst onAvailabilityChanged = (callback) => {\n  const s = getSocket();\n  s.on('availability:changed', callback);\n};\n\nconst offEvent = (event) => {\n  const s = getSocket();\n  s.off(event);\n};\n\nexport {\n  initSocket,\n  getSocket,\n  joinUserRoom,\n  goOnline,\n  goOffline,\n  notifyBookingRequest,\n  notifyBookingConfirmed,\n  notifyCallStarted,\n  notifyCallEnded,\n  notifyPaymentCompleted,\n  onBookingRequest,\n  onBookingConfirmed,\n  onCallReady,\n  onCallParticipantJoined,\n  onCallEnded,\n  onDeveloperStatusChanged,\n  onAvailabilityChanged,\n  offEvent,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}