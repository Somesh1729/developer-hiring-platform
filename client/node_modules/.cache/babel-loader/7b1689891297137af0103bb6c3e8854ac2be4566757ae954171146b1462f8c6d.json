{"ast":null,"code":"import io from 'socket.io-client';\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\nlet socket = null;\nconst initSocket = () => {\n  if (!socket) {\n    socket = io(SOCKET_URL, {\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5\n    });\n    socket.on('connect', () => {\n      console.log('[v0] Socket connected:', socket.id);\n    });\n    socket.on('disconnect', () => {\n      console.log('[v0] Socket disconnected');\n    });\n    socket.on('error', error => {\n      console.error('[v0] Socket error:', error);\n    });\n  }\n  return socket;\n};\nconst getSocket = () => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\nconst joinUserRoom = userId => {\n  const s = getSocket();\n  s.emit('user:join', userId);\n};\nconst goOnline = developerId => {\n  const s = getSocket();\n  s.emit('developer:online', developerId);\n};\nconst goOffline = developerId => {\n  const s = getSocket();\n  s.emit('developer:offline', developerId);\n};\nconst notifyBookingRequest = (developerId, bookingId, customerName, duration, rate) => {\n  const s = getSocket();\n  s.emit('booking:created', {\n    developerId,\n    bookingId,\n    customerName,\n    duration,\n    rate\n  });\n};\nconst notifyBookingConfirmed = (customerId, developerId, bookingId, channelName) => {\n  const s = getSocket();\n  s.emit('booking:confirmed', {\n    customerId,\n    developerId,\n    bookingId,\n    channelName\n  });\n};\nconst notifyCallStarted = (bookingId, channelName, customerId, developerId) => {\n  const s = getSocket();\n  s.emit('call:started', {\n    bookingId,\n    channelName,\n    customerId,\n    developerId\n  });\n};\nconst notifyCallEnded = (bookingId, customerId, developerId, duration, stats) => {\n  const s = getSocket();\n  s.emit('call:ended', {\n    bookingId,\n    customerId,\n    developerId,\n    duration,\n    stats\n  });\n};\nconst notifyPaymentCompleted = (bookingId, customerId, developerId, amount) => {\n  const s = getSocket();\n  s.emit('payment:completed', {\n    bookingId,\n    customerId,\n    developerId,\n    amount\n  });\n};\nconst onBookingRequest = callback => {\n  const s = getSocket();\n  s.on('notification:booking-request', callback);\n};\nconst onBookingConfirmed = callback => {\n  const s = getSocket();\n  s.on('notification:booking-confirmed', callback);\n};\nconst onCallReady = callback => {\n  const s = getSocket();\n  s.on('notification:call-ready', callback);\n};\nconst onCallParticipantJoined = callback => {\n  const s = getSocket();\n  s.on('call:participant-joined', callback);\n};\nconst onCallEnded = callback => {\n  const s = getSocket();\n  s.on('notification:call-ended', callback);\n};\nconst onDeveloperStatusChanged = callback => {\n  const s = getSocket();\n  s.on('developer:status-changed', callback);\n};\nconst onAvailabilityChanged = callback => {\n  const s = getSocket();\n  s.on('availability:changed', callback);\n};\nconst offEvent = event => {\n  const s = getSocket();\n  s.off(event);\n};\nexport { initSocket, getSocket, joinUserRoom, goOnline, goOffline, notifyBookingRequest, notifyBookingConfirmed, notifyCallStarted, notifyCallEnded, notifyPaymentCompleted, onBookingRequest, onBookingConfirmed, onCallReady, onCallParticipantJoined, onCallEnded, onDeveloperStatusChanged, onAvailabilityChanged, offEvent };","map":{"version":3,"names":["io","SOCKET_URL","process","env","REACT_APP_SOCKET_URL","socket","initSocket","reconnection","reconnectionDelay","reconnectionDelayMax","reconnectionAttempts","on","console","log","id","error","getSocket","joinUserRoom","userId","s","emit","goOnline","developerId","goOffline","notifyBookingRequest","bookingId","customerName","duration","rate","notifyBookingConfirmed","customerId","channelName","notifyCallStarted","notifyCallEnded","stats","notifyPaymentCompleted","amount","onBookingRequest","callback","onBookingConfirmed","onCallReady","onCallParticipantJoined","onCallEnded","onDeveloperStatusChanged","onAvailabilityChanged","offEvent","event","off"],"sources":["D:/Downloads/developer-hiring-platform/client/src/services/socket.js"],"sourcesContent":["import io from 'socket.io-client';\n\nconst SOCKET_URL = process.env.REACT_APP_SOCKET_URL || 'http://localhost:5000';\n\nlet socket = null;\n\nconst initSocket = () => {\n  if (!socket) {\n    socket = io(SOCKET_URL, {\n      reconnection: true,\n      reconnectionDelay: 1000,\n      reconnectionDelayMax: 5000,\n      reconnectionAttempts: 5,\n    });\n\n    socket.on('connect', () => {\n      console.log('[v0] Socket connected:', socket.id);\n    });\n\n    socket.on('disconnect', () => {\n      console.log('[v0] Socket disconnected');\n    });\n\n    socket.on('error', (error) => {\n      console.error('[v0] Socket error:', error);\n    });\n  }\n\n  return socket;\n};\n\nconst getSocket = () => {\n  if (!socket) {\n    return initSocket();\n  }\n  return socket;\n};\n\nconst joinUserRoom = (userId) => {\n  const s = getSocket();\n  s.emit('user:join', userId);\n};\n\nconst goOnline = (developerId) => {\n  const s = getSocket();\n  s.emit('developer:online', developerId);\n};\n\nconst goOffline = (developerId) => {\n  const s = getSocket();\n  s.emit('developer:offline', developerId);\n};\n\nconst notifyBookingRequest = (developerId, bookingId, customerName, duration, rate) => {\n  const s = getSocket();\n  s.emit('booking:created', {\n    developerId,\n    bookingId,\n    customerName,\n    duration,\n    rate,\n  });\n};\n\nconst notifyBookingConfirmed = (customerId, developerId, bookingId, channelName) => {\n  const s = getSocket();\n  s.emit('booking:confirmed', {\n    customerId,\n    developerId,\n    bookingId,\n    channelName,\n  });\n};\n\nconst notifyCallStarted = (bookingId, channelName, customerId, developerId) => {\n  const s = getSocket();\n  s.emit('call:started', {\n    bookingId,\n    channelName,\n    customerId,\n    developerId,\n  });\n};\n\nconst notifyCallEnded = (bookingId, customerId, developerId, duration, stats) => {\n  const s = getSocket();\n  s.emit('call:ended', {\n    bookingId,\n    customerId,\n    developerId,\n    duration,\n    stats,\n  });\n};\n\nconst notifyPaymentCompleted = (bookingId, customerId, developerId, amount) => {\n  const s = getSocket();\n  s.emit('payment:completed', {\n    bookingId,\n    customerId,\n    developerId,\n    amount,\n  });\n};\n\nconst onBookingRequest = (callback) => {\n  const s = getSocket();\n  s.on('notification:booking-request', callback);\n};\n\nconst onBookingConfirmed = (callback) => {\n  const s = getSocket();\n  s.on('notification:booking-confirmed', callback);\n};\n\nconst onCallReady = (callback) => {\n  const s = getSocket();\n  s.on('notification:call-ready', callback);\n};\n\nconst onCallParticipantJoined = (callback) => {\n  const s = getSocket();\n  s.on('call:participant-joined', callback);\n};\n\nconst onCallEnded = (callback) => {\n  const s = getSocket();\n  s.on('notification:call-ended', callback);\n};\n\nconst onDeveloperStatusChanged = (callback) => {\n  const s = getSocket();\n  s.on('developer:status-changed', callback);\n};\n\nconst onAvailabilityChanged = (callback) => {\n  const s = getSocket();\n  s.on('availability:changed', callback);\n};\n\nconst offEvent = (event) => {\n  const s = getSocket();\n  s.off(event);\n};\n\nexport {\n  initSocket,\n  getSocket,\n  joinUserRoom,\n  goOnline,\n  goOffline,\n  notifyBookingRequest,\n  notifyBookingConfirmed,\n  notifyCallStarted,\n  notifyCallEnded,\n  notifyPaymentCompleted,\n  onBookingRequest,\n  onBookingConfirmed,\n  onCallReady,\n  onCallParticipantJoined,\n  onCallEnded,\n  onDeveloperStatusChanged,\n  onAvailabilityChanged,\n  offEvent,\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}