{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import AgoraRTC from'agora-rtc-sdk-ng';import{PhoneOff,Mic,MicOff,Video,VideoOff,ScreenShare}from'lucide-react';import toast from'react-hot-toast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const client=AgoraRTC.createClient({mode:'rtc',codec:'vp8'});const VideoCall=_ref=>{let{channelName,token,userId,onCallEnd}=_ref;const[localVideoTrack,setLocalVideoTrack]=useState(null);const[localAudioTrack,setLocalAudioTrack]=useState(null);const[remoteUsers,setRemoteUsers]=useState([]);const[isAudioEnabled,setIsAudioEnabled]=useState(true);const[isVideoEnabled,setIsVideoEnabled]=useState(true);const[callDuration,setCallDuration]=useState(0);const localVideoRef=useRef(null);const remoteVideoRef=useRef(null);const durationIntervalRef=useRef(null);useEffect(()=>{const joinCall=async()=>{try{// Set event listeners\nclient.on('user-published',handleUserPublished);client.on('user-unpublished',handleUserUnpublished);// Join the channel\nawait client.join(process.env.REACT_APP_AGORA_APP_ID,channelName,token,userId);console.log('[DevHire] Joined Agora channel');// Create local tracks\nconst audioTrack=await AgoraRTC.createMicrophoneAudioTrack();const videoTrack=await AgoraRTC.createCameraVideoTrack();setLocalAudioTrack(audioTrack);setLocalVideoTrack(videoTrack);// Play local video\nawait videoTrack.play(localVideoRef.current);// Publish tracks\nawait client.publish([audioTrack,videoTrack]);console.log('[DevHire] Published local tracks');// Start call timer\ndurationIntervalRef.current=setInterval(()=>{setCallDuration(prev=>prev+1);},1000);toast.success('Connected to video call');}catch(error){console.error('[DevHire] Failed to join call:',error);toast.error('Failed to join video call');onCallEnd&&onCallEnd();}};joinCall();return()=>{if(durationIntervalRef.current){clearInterval(durationIntervalRef.current);}};},[channelName,token,userId,onCallEnd]);const handleUserPublished=async(user,mediaType)=>{try{await client.subscribe(user,mediaType);console.log('[DevHire] User published:',user.uid,mediaType);if(mediaType==='video'){await user.videoTrack.play(remoteVideoRef.current);setRemoteUsers(prev=>{const exists=prev.some(u=>u.uid===user.uid);if(!exists){return[...prev,user];}return prev;});}else if(mediaType==='audio'){await user.audioTrack.play();}toast.success('Other participant joined');}catch(error){console.error('[DevHire] Error handling user published:',error);}};const handleUserUnpublished=user=>{console.log('[DevHire] User unpublished:',user.uid);setRemoteUsers(prev=>prev.filter(u=>u.uid!==user.uid));};const toggleAudio=async()=>{if(isAudioEnabled){await localAudioTrack.setEnabled(false);setIsAudioEnabled(false);}else{await localAudioTrack.setEnabled(true);setIsAudioEnabled(true);}};const toggleVideo=async()=>{if(isVideoEnabled){await localVideoTrack.setEnabled(false);setIsVideoEnabled(false);}else{await localVideoTrack.setEnabled(true);setIsVideoEnabled(true);}};const handleEndCall=async()=>{try{// Stop and close all tracks\nif(localAudioTrack){localAudioTrack.stop();localAudioTrack.close();}if(localVideoTrack){localVideoTrack.stop();localVideoTrack.close();}// Leave channel\nawait client.leave();console.log('[DevHire] Left Agora channel');if(durationIntervalRef.current){clearInterval(durationIntervalRef.current);}toast.success('Call ended');onCallEnd&&onCallEnd(Math.floor(callDuration/60));}catch(error){console.error('[DevHire] Error ending call:',error);toast.error('Error ending call');}};const formatDuration=seconds=>{const hours=Math.floor(seconds/3600);const minutes=Math.floor(seconds%3600/60);const secs=seconds%60;if(hours>0){return\"\".concat(hours,\"h \").concat(minutes,\"m \").concat(secs,\"s\");}return\"\".concat(minutes,\"m \").concat(secs,\"s\");};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full h-full bg-black flex flex-col relative\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex gap-2 p-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 bg-gray-900 rounded-lg overflow-hidden relative\",children:[/*#__PURE__*/_jsx(\"div\",{ref:remoteVideoRef,className:\"w-full h-full\"}),remoteUsers.length===0&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 flex items-center justify-center text-white\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Waiting for other participant...\"})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-32 h-32 bg-gray-900 rounded-lg overflow-hidden border-2 border-white\",children:/*#__PURE__*/_jsx(\"div\",{ref:localVideoRef,className:\"w-full h-full\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-900 border-t border-gray-700 p-4 flex items-center justify-center gap-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-white text-lg font-mono mr-auto\",children:formatDuration(callDuration)}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleAudio,className:\"p-3 rounded-full transition \".concat(isAudioEnabled?'bg-gray-700 hover:bg-gray-600 text-white':'bg-red-600 hover:bg-red-700 text-white'),title:isAudioEnabled?'Mute':'Unmute',children:isAudioEnabled?/*#__PURE__*/_jsx(Mic,{size:24}):/*#__PURE__*/_jsx(MicOff,{size:24})}),/*#__PURE__*/_jsx(\"button\",{onClick:toggleVideo,className:\"p-3 rounded-full transition \".concat(isVideoEnabled?'bg-gray-700 hover:bg-gray-600 text-white':'bg-red-600 hover:bg-red-700 text-white'),title:isVideoEnabled?'Stop Video':'Start Video',children:isVideoEnabled?/*#__PURE__*/_jsx(Video,{size:24}):/*#__PURE__*/_jsx(VideoOff,{size:24})}),/*#__PURE__*/_jsx(\"button\",{disabled:true,className:\"p-3 rounded-full bg-gray-700 text-gray-400 opacity-50 cursor-not-allowed\",title:\"Screen share coming soon\",children:/*#__PURE__*/_jsx(ScreenShare,{size:24})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleEndCall,className:\"ml-auto p-3 rounded-full bg-red-600 hover:bg-red-700 text-white transition\",title:\"End Call\",children:/*#__PURE__*/_jsx(PhoneOff,{size:24})})]})]});};export default VideoCall;","map":{"version":3,"names":["React","useState","useEffect","useRef","AgoraRTC","PhoneOff","Mic","MicOff","Video","VideoOff","ScreenShare","toast","jsx","_jsx","jsxs","_jsxs","client","createClient","mode","codec","VideoCall","_ref","channelName","token","userId","onCallEnd","localVideoTrack","setLocalVideoTrack","localAudioTrack","setLocalAudioTrack","remoteUsers","setRemoteUsers","isAudioEnabled","setIsAudioEnabled","isVideoEnabled","setIsVideoEnabled","callDuration","setCallDuration","localVideoRef","remoteVideoRef","durationIntervalRef","joinCall","on","handleUserPublished","handleUserUnpublished","join","process","env","REACT_APP_AGORA_APP_ID","console","log","audioTrack","createMicrophoneAudioTrack","videoTrack","createCameraVideoTrack","play","current","publish","setInterval","prev","success","error","clearInterval","user","mediaType","subscribe","uid","exists","some","u","filter","toggleAudio","setEnabled","toggleVideo","handleEndCall","stop","close","leave","Math","floor","formatDuration","seconds","hours","minutes","secs","concat","className","children","ref","length","onClick","title","size","disabled"],"sources":["D:/Downloads/developer-hiring-platform/client/src/components/VideoCall.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport AgoraRTC from 'agora-rtc-sdk-ng';\nimport { PhoneOff, Mic, MicOff, Video, VideoOff, ScreenShare } from 'lucide-react';\nimport toast from 'react-hot-toast';\n\nconst client = AgoraRTC.createClient({ mode: 'rtc', codec: 'vp8' });\n\nconst VideoCall = ({ channelName, token, userId, onCallEnd }) => {\n  const [localVideoTrack, setLocalVideoTrack] = useState(null);\n  const [localAudioTrack, setLocalAudioTrack] = useState(null);\n  const [remoteUsers, setRemoteUsers] = useState([]);\n  const [isAudioEnabled, setIsAudioEnabled] = useState(true);\n  const [isVideoEnabled, setIsVideoEnabled] = useState(true);\n  const [callDuration, setCallDuration] = useState(0);\n  const localVideoRef = useRef(null);\n  const remoteVideoRef = useRef(null);\n  const durationIntervalRef = useRef(null);\n\n  useEffect(() => {\n    const joinCall = async () => {\n      try {\n        // Set event listeners\n        client.on('user-published', handleUserPublished);\n        client.on('user-unpublished', handleUserUnpublished);\n\n        // Join the channel\n        await client.join(\n          process.env.REACT_APP_AGORA_APP_ID,\n          channelName,\n          token,\n          userId\n        );\n\n        console.log('[DevHire] Joined Agora channel');\n\n        // Create local tracks\n        const audioTrack = await AgoraRTC.createMicrophoneAudioTrack();\n        const videoTrack = await AgoraRTC.createCameraVideoTrack();\n\n        setLocalAudioTrack(audioTrack);\n        setLocalVideoTrack(videoTrack);\n\n        // Play local video\n        await videoTrack.play(localVideoRef.current);\n\n        // Publish tracks\n        await client.publish([audioTrack, videoTrack]);\n        console.log('[DevHire] Published local tracks');\n\n        // Start call timer\n        durationIntervalRef.current = setInterval(() => {\n          setCallDuration((prev) => prev + 1);\n        }, 1000);\n\n        toast.success('Connected to video call');\n      } catch (error) {\n        console.error('[DevHire] Failed to join call:', error);\n        toast.error('Failed to join video call');\n        onCallEnd && onCallEnd();\n      }\n    };\n\n    joinCall();\n\n    return () => {\n      if (durationIntervalRef.current) {\n        clearInterval(durationIntervalRef.current);\n      }\n    };\n  }, [channelName, token, userId, onCallEnd]);\n\n  const handleUserPublished = async (user, mediaType) => {\n    try {\n      await client.subscribe(user, mediaType);\n      console.log('[DevHire] User published:', user.uid, mediaType);\n\n      if (mediaType === 'video') {\n        await user.videoTrack.play(remoteVideoRef.current);\n        setRemoteUsers((prev) => {\n          const exists = prev.some((u) => u.uid === user.uid);\n          if (!exists) {\n            return [...prev, user];\n          }\n          return prev;\n        });\n      } else if (mediaType === 'audio') {\n        await user.audioTrack.play();\n      }\n\n      toast.success('Other participant joined');\n    } catch (error) {\n      console.error('[DevHire] Error handling user published:', error);\n    }\n  };\n\n  const handleUserUnpublished = (user) => {\n    console.log('[DevHire] User unpublished:', user.uid);\n    setRemoteUsers((prev) => prev.filter((u) => u.uid !== user.uid));\n  };\n\n  const toggleAudio = async () => {\n    if (isAudioEnabled) {\n      await localAudioTrack.setEnabled(false);\n      setIsAudioEnabled(false);\n    } else {\n      await localAudioTrack.setEnabled(true);\n      setIsAudioEnabled(true);\n    }\n  };\n\n  const toggleVideo = async () => {\n    if (isVideoEnabled) {\n      await localVideoTrack.setEnabled(false);\n      setIsVideoEnabled(false);\n    } else {\n      await localVideoTrack.setEnabled(true);\n      setIsVideoEnabled(true);\n    }\n  };\n\n  const handleEndCall = async () => {\n    try {\n      // Stop and close all tracks\n      if (localAudioTrack) {\n        localAudioTrack.stop();\n        localAudioTrack.close();\n      }\n      if (localVideoTrack) {\n        localVideoTrack.stop();\n        localVideoTrack.close();\n      }\n\n      // Leave channel\n      await client.leave();\n      console.log('[DevHire] Left Agora channel');\n\n      if (durationIntervalRef.current) {\n        clearInterval(durationIntervalRef.current);\n      }\n\n      toast.success('Call ended');\n      onCallEnd && onCallEnd(Math.floor(callDuration / 60));\n    } catch (error) {\n      console.error('[DevHire] Error ending call:', error);\n      toast.error('Error ending call');\n    }\n  };\n\n  const formatDuration = (seconds) => {\n    const hours = Math.floor(seconds / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n\n    if (hours > 0) {\n      return `${hours}h ${minutes}m ${secs}s`;\n    }\n    return `${minutes}m ${secs}s`;\n  };\n\n  return (\n    <div className=\"w-full h-full bg-black flex flex-col relative\">\n      {/* Videos Container */}\n      <div className=\"flex-1 flex gap-2 p-2\">\n        {/* Remote Video - Main */}\n        <div className=\"flex-1 bg-gray-900 rounded-lg overflow-hidden relative\">\n          <div ref={remoteVideoRef} className=\"w-full h-full\" />\n          {remoteUsers.length === 0 && (\n            <div className=\"absolute inset-0 flex items-center justify-center text-white\">\n              <p>Waiting for other participant...</p>\n            </div>\n          )}\n        </div>\n\n        {/* Local Video - PIP */}\n        <div className=\"w-32 h-32 bg-gray-900 rounded-lg overflow-hidden border-2 border-white\">\n          <div ref={localVideoRef} className=\"w-full h-full\" />\n        </div>\n      </div>\n\n      {/* Controls */}\n      <div className=\"bg-gray-900 border-t border-gray-700 p-4 flex items-center justify-center gap-4\">\n        {/* Call Duration */}\n        <div className=\"text-white text-lg font-mono mr-auto\">\n          {formatDuration(callDuration)}\n        </div>\n\n        {/* Audio Toggle */}\n        <button\n          onClick={toggleAudio}\n          className={`p-3 rounded-full transition ${\n            isAudioEnabled\n              ? 'bg-gray-700 hover:bg-gray-600 text-white'\n              : 'bg-red-600 hover:bg-red-700 text-white'\n          }`}\n          title={isAudioEnabled ? 'Mute' : 'Unmute'}\n        >\n          {isAudioEnabled ? <Mic size={24} /> : <MicOff size={24} />}\n        </button>\n\n        {/* Video Toggle */}\n        <button\n          onClick={toggleVideo}\n          className={`p-3 rounded-full transition ${\n            isVideoEnabled\n              ? 'bg-gray-700 hover:bg-gray-600 text-white'\n              : 'bg-red-600 hover:bg-red-700 text-white'\n          }`}\n          title={isVideoEnabled ? 'Stop Video' : 'Start Video'}\n        >\n          {isVideoEnabled ? <Video size={24} /> : <VideoOff size={24} />}\n        </button>\n\n        {/* Screen Share (Placeholder) */}\n        <button\n          disabled\n          className=\"p-3 rounded-full bg-gray-700 text-gray-400 opacity-50 cursor-not-allowed\"\n          title=\"Screen share coming soon\"\n        >\n          <ScreenShare size={24} />\n        </button>\n\n        {/* End Call */}\n        <button\n          onClick={handleEndCall}\n          className=\"ml-auto p-3 rounded-full bg-red-600 hover:bg-red-700 text-white transition\"\n          title=\"End Call\"\n        >\n          <PhoneOff size={24} />\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default VideoCall;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}